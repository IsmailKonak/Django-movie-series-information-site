{% extends "main/base.html" %}

{%block title%}{{useractive}}{%endblock%}

{%block external%}
<style>

.section {
  top: 20px;
  padding: 70px 0;
  height: 385px;
  position: relative;
  box-shadow: 0 0 100px;
  border-radius: 15px;

}
.gray-bg {
    background-color: rgb(255, 255, 255);
}
 
img {
    vertical-align: middle;
    border-style: none;
}
/* About Me 
---------------------*/
.about-text h3 {
  font-size: 45px;
  font-weight: 700;
  margin: 0 0 6px;
}
@media (max-width: 767px) {
  .about-text h3 {
    font-size: 35px;
  }
}
.about-text h6 {
  font-weight: 600;
  margin-bottom: 15px;
}
@media (max-width: 767px) {
  .about-text h6 {
    font-size: 18px;
  }
}
.about-text p {
  font-size: 18px;
  max-width: 450px;
}
.about-text p mark {
  font-weight: 600;
  color: #20247b;
}

.about-list {
  padding-top: 10px;
}
.about-list .media {
  padding: 5px 0;
}
.about-list label {
  color: #20247b;
  font-weight: 600;
  width: 88px;
  margin: 0;
  position: relative;
}
.about-list label:after {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  right: 11px;
  width: 1px;
  height: 12px;
  background: #20247b;
  -moz-transform: rotate(15deg);
  -o-transform: rotate(15deg);
  -ms-transform: rotate(15deg);
  -webkit-transform: rotate(15deg);
  transform: rotate(15deg);
  margin: auto;
  opacity: 0.5;
}
.about-list p {
  margin: 0;
  font-size: 15px;
}

.about-avatar {
    height: 250px;
    width: 250px;
    box-shadow: 0 0 20px  ;

  }
.marginbottom{
    margin-bottom: 60px;
    padding-left: 50px;
}

.about-section .counter {
  padding: 22px 20px;
  border-radius: 10px;
}
.about-section .counter .count-data {
  margin-top: 10px;
  margin-bottom: 10px;
}
.about-section .counter .count {
  font-weight: 700;
  color: #20247b;
  margin: 0 0 5px;
}
.about-section .counter p {
  font-weight: 600;
  margin: 0;
}
mark {
    background-image: linear-gradient(rgba(252, 83, 86, 0.6), rgba(252, 83, 86, 0.6));
    background-size: 100% 3px;
    background-repeat: no-repeat;
    background-position: 0 bottom;
    background-color: transparent;
    padding: 0;
    color: currentColor;
}
.theme-color {
    color: #fc5356;
}
.dark-color {
    color: #181b64;
}
.profile_info_heads{
    color: rgb(48, 48, 48);

}
.profile_infos{
    font-size: 16px;
    margin-left: 10px;
    color: #20247b;    
}
.filmlerdizileryazi{
    font-family: Baskerville;
    font-size: 18px;
    color: white;

}
.filmlerdiziler{
    background: rgb(0,47,107);
    background: linear-gradient(180deg, rgba(0,47,107,1) 0%, rgba(20,20,20,1) 30%, rgba(18,22,27,1) 70%, rgba(0,47,107,1) 98%);
    box-shadow: 0 0 10px 5px white;
    margin-top: 25px;
    margin-right: 0px;
    margin-left: 0px;

  }

.contents_cards{
    position: relative;
    margin-right: 110px;
    margin-left: 115px;
    margin-top: 25px;
    border-radius: 10px;
    box-shadow: 0 0 5px 3px white;
    border: none;
    
}
.content-card-image{
  height: 260px;
  width: 183px;
  border-radius: 10px;
}
.editprofile{
  position: absolute;
  right: 25px;
  width: 40px;
  height: 40px;
  top: 25px;
}
.socialmedias{
  background-color: #181b64;
  color: white;
  border-radius: 10px;
  margin:0px 15px;
}
.socialmedias:hover{
  background-color: #11134e;
  color: white;
}
.summarytext{
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-height: 500px;
}
</style>
{% endblock%}

{%block content%}
{% if request.user.id == useractive.id%}
<section class="section about-section gray-bg" id="about">
  <div class="container">


    <!-- Large modal -->
<button type="button" class="btn btn-secondary rounded-circle editprofile text-center" data-toggle="modal" data-target=".bd-example-modal-lg"><i class="bi bi-gear-fill"></i></button>

<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      
      <h4 class="card-title mt-3 text-center">Edit Profile</h4>
        <p class="text-center">You can edit your profile</p>
        <div class="container">  
        <form method="post" action="/profile/{{request.user.username}}" enctype="multipart/form-data" >
            {% csrf_token%}
        <div class="form-group input-group">
            <div class="input-group-prepend">
                <span class="input-group-text"> <i class="bi bi-person"></i> </span>
             </div>
            <input name="username_edit" class="form-control" placeholder="Username" type="text" value="{{request.user.username}}">
        </div>

        <div class="form-group input-group">
            <div class="input-group-prepend">
                <span class="input-group-text"> <i class="bi bi-person"></i> </span>
             </div>
            <input name="fname_edit" class="form-control" placeholder="First Name" type="text" value="{{request.user.fname}}">
        </div>

        <div class="form-group input-group">
            <div class="input-group-prepend">
                <span class="input-group-text"> <i class="bi bi-person"></i> </span>
             </div>
            <input name="lname_edit" class="form-control" placeholder="Last Name" type="text" value="{{request.user.lname}}">
        </div> 
        
        <div class="form-group input-group">
            <div class="input-group-prepend">
                <span class="input-group-text"> <i class="bi bi-at"></i> </span>
             </div>
            <input name="email_edit" class="form-control" placeholder="Email address" type="email" value="{{request.user.email}}">
        </div>

        <div class="form-group input-group">
            <div class="input-group-prepend">
                <span class="input-group-text"> <i class="bi bi-shield-lock"></i> </span>
            </div>
            
            <input required name="password_edit" class="form-control" placeholder="Update password or type active password" type="password">
        </div>
        <hr>
        <p class="text-center">Social Medias</p>

        <div class="form-group input-group">
            <div class="input-group-prepend">
                <span class="input-group-text"> <i class="bi bi-instagram"></i> </span>
             </div>
            <input name="instagram_edit" class="form-control" placeholder="Your Intagram Username" type="text" value="{{request.user.instagram}}">
        </div>

        <div class="form-group input-group">
            <div class="input-group-prepend">
                <span class="input-group-text"> <i class="bi bi-twitter"></i> </span>
             </div>
            <input name="twitter_edit" class="form-control" placeholder="Your Twitter Username" type="text" value="{{request.user.twitter}}">
        </div>

        <div class="form-group input-group">
            <div class="input-group-prepend">
                <span class="input-group-text "> <i class="bi bi-facebook"></i> </span>
             </div>
            <input name="facebook_edit" class="form-control" placeholder="Your Facebook Username" type="text" value="{{request.user.facebook}}">
        </div>

        

        <div class="form-group">
            <button type="submit" class="btn btn-primary bg-ismailblue btn-block" style="border-color:transparent ;"> Update Account </button>
        </div> <!-- form-group// -->      
    </form>
    </div>
  </div>
  </div>
</div>


      <div class="row align-items-center flex-row-reverse">
          <div class="col-lg-6 marginbottom" style="padding-left:0px;">
              <div class="about-text go-to">
                  <h3 class="dark-color" style="margin-bottom: 20px;">{{useractive.fname}} {{useractive.lname}}</h3>
                  <div class="row">
                      <div class="col-sm-5">
                          <div class="media">
                              <label class="profile_info_heads">Username: </label>
                              <span class="profile_infos">{{useractive.username}}</span>
                          </div>
                          <div class="media">
                              <label class="profile_info_heads">First Name: </label>
                              <span class="profile_infos">{{useractive.fname}}</span>
                          </div>
                          <div class="media">
                              <label class="profile_info_heads">Last Name: </label>
                              <span class="profile_infos ">{{useractive.lname}}</span>
                          </div>
                      </div>
                      <div class="col-md-6">
                          <div class="media">
                              <label class="profile_info_heads">Email: </label>
                              <span class="profile_infos">{{useractive.email}}</span>
                          </div>
                          <div class="media">
                              <label class="profile_info_heads">Birthday: </label>
                              <span class="profile_infos">{{useractive.birthday}}</span>
                          </div>
                          <div class="media">
                              <label class="profile_info_heads">Subscription: </label>
                              <span class="profile_infos">{{useractive.join_date}}</span>
                          </div>
                      </div>
                      <div class="btn-group" style="margin:25px 150px">
                      <button class="btn socialmedias" onclick="location.href='https://instagram.com/{{useractive.instagram}}';"><i class="bi bi-instagram"></i></button>
                      <button class="btn socialmedias" onclick="location.href='https://twitter.com/{{useractive.twitter}}';"><i class="bi bi-twitter"></i></button>
                      <button class="btn socialmedias" onclick="location.href='https://facebook.com/{{useractive.facebook}}';"><i class="bi bi-facebook"></i></button>
                      </div>
                  </div>
              </div>
          </div>
          <div class="col-lg-5 marginbottom ">
              <div >
                  <img class="about-avatar rounded-circle" src="{{useractive.profile_pic.url}}" title="" alt="">
              </div>
          </div>
      </div>
      <div class="counter filmlerdiziler">
          <div class="row">
              <div class="col text-center">
                  <span class="filmlerdizileryazi">Movies      &      Series</span>
              </div>

              </div>
          </div>
      </div>
  </div>
</section>
<div style="margin-top: 140px;">
</div>


  {% csrf_token %}
{% if useractive.movie_set.all %}
    {% for movie in useractive.movie_set.all%}
        <div class="card mb-3 contents_cards" >
          <div class="row no-gutters">
            <div class="col-md-2">
              <img src="{{ movie.poster.url}}" class="content-card-image" alt="...">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h4 class="card-title"><a href="/movies/{{movie.url_name}}" style="color: #181b64;text-decoration: none;" ><b>{{movie.name}}</b></a></h4><!-- Lİnk sıknıtlı-->
                <p class="card-text summarytext">{{movie.summary}}</p>
                <p class="card-text"><b>Director: </b><small class="">{{movie.director}}</small></p>
                <p class="card-text"><b>Stars: </b><small class="">{%for actor in movie.star.all%} {{actor}}, {%endfor%}</small></p>
                <p class="card-text"><b>Release: </b><small class="">{{movie.release}}</small></p>
              </div>
            </div>
          </div>
        </div>
        {%endfor%}
    {%endif%}
    {% if useractive.series_set.all %}
    {% for series in useractive.series_set.all%}
        <div class="card mb-3 contents_cards" >
          <div class="row no-gutters">
            <div class="col-md-2">
              <img src="{{ series.poster.url}}" class="content-card-image" alt="...">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h4 class="card-title"><a href="/series/{{series.url_name}}" style="color: #181b64;text-decoration: none;" ><b>{{series.name}}</b></a></h4><!-- Lİnk sıknıtlı-->
                <p class="card-text summarytext">{{series.summary}}</p>
                <p class="card-text"><b>Director: </b><small class="">{{series.director}}</small></p>
                <p class="card-text"><b>Stars: </b><small class="">{%for actor in series.star.all%} {{actor}}, {%endfor%}</small></p>
                <p class="card-text"><b>Release: </b><small class="">{{series.release}}</small></p>
              </div>
            </div>
          </div>
        </div>
        {%endfor%}
    {%endif%}









{% else%}
<section class="section about-section gray-bg" id="about">
  <div class="container">
      <div class="row align-items-center flex-row-reverse">
          <div class="col-lg-6 marginbottom" style="padding-left:0px;">
              <div class="about-text go-to">
                  <h3 class="dark-color" style="margin-bottom: 20px;">{{useractive.fname}} {{useractive.lname}}</h3>
                  <div class="row">
                      <div class="col-sm-5">
                          <div class="media">
                              <label class="profile_info_heads">Username: </label>
                              <span class="profile_infos">{{useractive.username}}</span>
                          </div>
                          <div class="media">
                              <label class="profile_info_heads">First Name: </label>
                              <span class="profile_infos">{{useractive.fname}}</span>
                          </div>
                          <div class="media">
                              <label class="profile_info_heads">Last Name: </label>
                              <span class="profile_infos ">{{useractive.lname}}</span>
                          </div>
                      </div>
                      <div class="col-md-6">
                          <div class="media">
                              <label class="profile_info_heads">Email: </label>
                              <span class="profile_infos">{{useractive.email}}</span>
                          </div>
                          <div class="media">
                              <label class="profile_info_heads">Birthday: </label>
                              <span class="profile_infos">{{useractive.birthday}}</span>
                          </div>
                          <div class="media">
                              <label class="profile_info_heads">Subscription: </label>
                              <span class="profile_infos">{{useractive.join_date}}</span>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          <div class="col-lg-5 marginbottom ">
              <div >
                  <img class="about-avatar rounded-circle" src="{{useractive.profile_pic.url}}" title="" alt="">
              </div>
          </div>
      </div>
      <div class="counter filmlerdiziler">
          <div class="row">
              <div class="col text-center">
                  <span class="filmlerdizileryazi">Movies      &      Series</span>
              </div>

              </div>
          </div>
      </div>
  </div>
</section>
<div style="margin-top: 140px;">
</div>
{% if useractive.movie_set.all %}
    {% for movie in useractive.movie_set.all%}
        <div class="card mb-3 contents_cards" >
          <div class="row no-gutters">
            <div class="col-md-2">
              <img src="{{movie.poster.url}}" class="content-card-image" alt="...">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h4 class="card-title"><a href="/movies/{{movie.url_name}}" style="color: #181b64;text-decoration: none;" ><b>{{movie.name}}</b></a></h4><!-- Lİnk sıknıtlı-->
                <p class="card-text summarytext">{{movie.summary}}</p>
                <p class="card-text"><b>Director: </b><small class="">{{movie.director}}</small></p>
                <p class="card-text"><b>Stars: </b><small class="">{%for actor in movie.star.all%} {{actor}}, {%endfor%}</small></p>
                <p class="card-text"><b>Release: </b><small class="">{{movie.release}}</small></p>
              </div>
            </div>
          </div>
        </div>
        {%endfor%}
    {%endif%}
    {% if useractive.series_set.all %}
    {% for series in useractive.series_set.all%}
        <div class="card mb-3 contents_cards" >
          <div class="row no-gutters">
            <div class="col-md-2">
              <img src="{{series.poster.url}}" class="content-card-image" alt="...">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h4 class="card-title"><a href="/series/{{series.url_name}}" style="color: #181b64;text-decoration: none;" ><b>{{series.name}}</b></a></h4><!-- Lİnk sıknıtlı-->
                <p class="card-text summarytext">{{series.summary}}</p>
                <p class="card-text"><b>Director: </b><small class="">{{series.director}}</small></p>
                <p class="card-text"><b>Stars: </b><small class="">{%for actor in series.star.all%} {{actor}}, {%endfor%} </small></p>
                <p class="card-text"><b>Release: </b><small class="">{{series.release}}</small></p>
              </div>
            </div>
          </div>
        </div>
        {%endfor%}
    {%endif%}
{%endif%}

{%endblock%}